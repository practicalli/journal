---
title: Upgrades break often with Arch Linux
date:
  created: 2025-10-06
  updated: 2025-10-12
authors:
  - practicalli
categories:
  - practicalli
tags:
  - archlinux
  - hyprland
  - obs
draft: false
---


OBS screen capture via pipewire has broken again after an [Arch Linux upgrade](#arch-linux).  I didn't see any reports about this issue, but something has changed that broke a working OBS. A rollback of the Btrfs snapshots via the Garuda Linux boot menu restored to a working version.

Editing the video of the [cycling trip to Grain in August 2025](#cycling).

Its Covid season again and I must scale down my cycling as I have an infection.  I did manage a ride on Monday and Wednesday, but on Wednesday evening I had a very bad dizzy spell and uncontrollable shaking for 30 minutes. I couldnt really move and would have called for an ambulance had my phone been in reach.  It took a few days to feel okay again, but my energy levels are still feeling compromised.

A break from cycling will be hard as it has significantly helped improve my health.  Instead I will rely on walks in the park, at least 1 hour every day (unless its raining all day).  I managed a 2 hour walk on Friday to attend a blood test, although was too tired to walk on Saturday.  I will endeavour to go for a walk mid-day on Sunday.

<!-- more -->


## Arch Linux

At the start of the week I ran a package update using `garuda-update`.  After a reboot all looked okay, but when on running OBS to create a screencast the 'Screen Capture (Pipewire)' source was not functioning.

No information regarding this issue was found on the Arch Linux or Garuda Linux forums.  An internet search returned no relevant information either.

Garuda Linux automatically creates snapshots before running a package update, providing a simple way to roll back should there be issues.

On rebooting Garuda Linux, I selected snapshots from the boot menu and chose a snapshot before the `garuda-update` was run.

OBS was now working correctly, to the snapshot rollback was applied and the system rebooted.

I do not know the cause of the break to OBS.  It could be OBS itself, or hyprland, or the underlying wayland system or specific to pipewire itself.

At the end of this month I will carry out another package update and see if the issue has been resolved.  With a rolling release then these issues are much more likely than with a more fixed release system used by Debian Linux.  Without a snapshots to rollback then I would abandon Arch Linux as it would require too much maintenance.

!!! EXAMPLE "Attempt to resolve OBS Pipewire screen capture issue"
    ```shell-output
    ❯ sudo pacman -Sy pipewire wireplumber xdg-desktop-portal-hyprland obs-studio
    [sudo] password for practicalli:
    :: Synchronising package databases...
     garuda is up to date
     core is up to date
     extra is up to date
     multilib is up to date
     chaotic-aur                                                                                                                                648.3 KiB   873 KiB/s 00:01 [--------------------------------------------------------------------------------------------------------] 100%
    warning: pipewire-1:1.4.8-2 is up to date -- reinstalling
    warning: wireplumber-0.5.11-1 is up to date -- reinstalling
    warning: xdg-desktop-portal-hyprland-1.3.10-5 is up to date -- reinstalling
    warning: obs-studio-32.0.1-2 is up to date -- reinstalling
    resolving dependencies...
    looking for conflicting packages...

    Package (4)                        Old Version  New Version  Net Change

    extra/obs-studio                   32.0.1-2     32.0.1-2       0.00 MiB
    extra/pipewire                     1:1.4.8-2    1:1.4.8-2      0.00 MiB
    extra/wireplumber                  0.5.11-1     0.5.11-1       0.00 MiB
    extra/xdg-desktop-portal-hyprland  1.3.10-5     1.3.10-5       0.00 MiB

    Total Installed Size:  28.05 MiB
    Net Upgrade Size:       0.00 MiB

    :: Proceed with installation? [Y/n] y
    (4/4) checking keys in keyring                                                                                                                                          [--------------------------------------------------------------------------------------------------------] 100%
    (4/4) checking package integrity                                                                                                                                        [--------------------------------------------------------------------------------------------------------] 100%
    (4/4) loading package files                                                                                                                                             [--------------------------------------------------------------------------------------------------------] 100%
    (4/4) checking for file conflicts                                                                                                                                       [--------------------------------------------------------------------------------------------------------] 100%
    (4/4) checking available disk space                                                                                                                                     [--------------------------------------------------------------------------------------------------------] 100%
    :: Running pre-transaction hooks...
    (1/2) Rejecting pacman transaction if running in snapshot...
    (2/2) Performing snapper pre snapshots for the following configurations...
    ==> root: 130
    :: Processing package changes...
    (1/4) reinstalling pipewire                                                                                                                                             [--------------------------------------------------------------------------------------------------------] 100%
    (2/4) reinstalling wireplumber                                                                                                                                          [--------------------------------------------------------------------------------------------------------] 100%
    (3/4) reinstalling xdg-desktop-portal-hyprland                                                                                                                          [--------------------------------------------------------------------------------------------------------] 100%
    (4/4) reinstalling obs-studio                                                                                                                                           [--------------------------------------------------------------------------------------------------------] 100%
    :: Running post-transaction hooks...
    ( 1/10) Reloading user manager configuration...
    ( 2/10) Arming ConditionNeedsUpdate...
    ( 3/10) Checking for package with missing dependencies...
    ( 4/10) Foreign/AUR package notification
    plasma-framework5 5.116.0-1
    puddletag 2.5.0-1
    ( 5/10) Orphaned package notification...
    appstream-glib 0.8.3-2
    electron36 36.9.3-1
    mathjax 4.0.0-1
    ( 6/10) Checking for .pacnew and .pacsave files...
    .pac* files found:
    /etc/default/grub-btrfs/config.pacnew
    /etc/pacman.d/mirrorlist.pacnew
    Please check and merge
    ( 7/10) Updating icon theme caches...
    ( 8/10) Updating the desktop file MIME type cache...
    ( 9/10) Performing snapper post snapshots for the following configurations...
    ==> root: 131
    (10/10) Syncing all file systems...

    ❯ systemctl --user status pipewire pipewire-pulse
    ● pipewire.service - PipeWire Multimedia Service
         Loaded: loaded (/usr/lib/systemd/user/pipewire.service; disabled; preset: enabled)
         Active: active (running) since Thu 2025-10-09 14:09:41 BST; 7min ago
     Invocation: 7176309d74e84e2fb719a132bb459b6d
    TriggeredBy: ● pipewire.socket
       Main PID: 1671 (pipewire)
          Tasks: 3 (limit: 35597)
         Memory: 9.1M (peak: 9.9M)
            CPU: 916ms
         CGroup: /user.slice/user-1000.slice/user@1000.service/session.slice/pipewire.service
                 └─1671 /usr/bin/pipewire

    Oct 09 14:09:41 rogueone systemd[1227]: Started PipeWire Multimedia Service.

    ● pipewire-pulse.service - PipeWire PulseAudio
         Loaded: loaded (/usr/lib/systemd/user/pipewire-pulse.service; disabled; preset: enabled)
         Active: active (running) since Thu 2025-10-09 14:09:41 BST; 7min ago
     Invocation: 700821d4339b43258ad7454dc2cb9530
    TriggeredBy: ● pipewire-pulse.socket
       Main PID: 1675 (pipewire-pulse)
          Tasks: 2 (limit: 35597)
         Memory: 10.3M (peak: 11.7M)
            CPU: 1.096s
         CGroup: /user.slice/user-1000.slice/user@1000.service/session.slice/pipewire-pulse.service
                 └─1675 /usr/bin/pipewire-pulse

    Oct 09 14:09:41 rogueone systemd[1227]: Started PipeWire PulseAudio.
    ```


## Cycling

Edited the cycling trip to the Isle of Grain that I took with a group of friends towards the end of August 2025.

Grain is a very remote part of Kent with very little infrastructure, so its lots of back roads with very little traffic and very peaceful.

I have been to Grain several times with my friend Gaiville, the first time as part of our training for the Ride Across Britain organised event from Land's End to John O'Groats.

<p style="text-align:center">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/UIunOB88-GI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</p>


---
Thank you.

[:globe_with_meridians: Practical.li Website](https://practical.li){target=_blank .md-button}

[:fontawesome-brands-github: Practical.li GitHub Org](https://github.com/practicalli){target=_blank .md-button}
[:fontawesome-brands-github: practicalli-johnny profile](https://github.com/practicalli-johnny){target=_blank .md-button}

[:fontawesome-brands-mastodon: @practicalli@clj.social](https://clj.social/@practicalli){target=_blank .md-button}
[:fontawesome-brands-twitter: @practical_li](https://twitter.com/practcial_li){target=_blank .md-button}
