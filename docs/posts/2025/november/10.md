---
title: Debian Linux returns
date:
  created: 2025-11-10
  updated: 2025-11-11
authors:
  - practicalli
categories:
  - practicalli
tags:
  - debian-linux
  - tui
draft: false
---

Discovered [Neovim GitSigns plugin](#neovim) could be used to stage specific lines, as well as hunks.

This summer has been an adventure with the new shiny Hyprland wayland compositor and tiling window manager.  Whist Hyprland (and associated tools) can be made very beautiful, I find it has some major productivity limitations compared to i3 tiling window manager.

I've switched back my main laptop to using [Debian Linux](#debian-linux), using Sway Wayland Compositor via Regoligh Desktop as Sway works the same way as i3 (at least from a user perspective).

The evaluation of [Terminal UI tools](#tuis) is proving much more successful and I have found some nice system tools to use (better than the GUI tools that come with Gnome desktop).

I use the keyboard for everything except graphics & video editing work, and the occasional link in the browser if its a busy page.  Using a tiling window manager has helped me keep my fingers on the keyboard where they work the fastest.

I common keyboard combination I used is to copy the URL from a browser window into one of the Practicalli books, or this very journal.

- `Super` and one of h j k l keys to navigate to the browser window (`SPC` followed by a number if the browser is on a different desktop)
- `Ctrl`+`l` to highlight the current page URL in location bar.
- `Ctrl` + `c` to copy the URL into the clip board
- `Super` and one of h j k l keys to navigate to the Neovim window
- `p` to paste the URL into the Neovim buffer

<!-- more -->

## Neovim

AstroNvim includes git signs which allows staging of the current hunk or the whole buffer from within the buffer.

Selecting one or more lines and using `SPC g s` would stage only those lines in the visual selection, even if they were only part of a hunk.  This allows changes to be staged that are only part of a hunk and not the whole hunk.

Neogit also allows staging of individually selected lines, although the `V` key binding must be used for visual select.

Staging specific lines in the buffer is much simpler, now I know it has that capacity.


## TUIs

This week I have been looking at file system explorer tools.

### xplr

[xplr](https://xplr.dev/) is a minimal file explorer, configurable using Lua language.  It is useful for navigating and filtering to find files and directories.

`xplr` uses vim-style key bindings for navigation, i.e. 'hjkl'

### superfile

[superfile](https://github.com/yorukot/superfile) is a multi-panel file explorer with file contents preview.

Includes an install script to add superfile to `/usr/local/bin` if sudo permissions, or `~/.local/bin` if not.

Currently installed by downloading and extracting the `spf` file from the latest GitHub release.

TODO: read the tutorial
TODO: configure hotkeys suitable for a vim / neovim user (mentioned in the first start info box).


### ranger

I have been using ranger TUI as a file explorer for many years and it also works within Emacs (I havent tried Neovim yet).

[ranger](https://ranger.fm/){target=_blank} is a long standing project and still actively maintained (although is feature complete so doesn't require new features).

I enjoy the vim-style key bindings for navigate and the ability to preview files.

![Ranger TUI in action](https://ranger.fm/){loading=lazy}

NOTE: unless I find something even nicer, range remains my default TUI for file navigation.


### Vim-like file manager

[Vifm](https://github.com/vifm/vifm) is a curses based Vim-like file manager extended with some useful ideas from mutt.

Vifm provides more complete vim-style key bindings, modes, options, registers, commands and other tools you would expect when in Vim.

![Vim-like file manager screenshot - dark](https://github.com/vifm/vifm/raw/master/data/graphics/screenshot.png){loading=lazy}

Yazi has image preview support for Kitty and many other terminals (assuming it uses the Kitty Graphics support).


### Yazi - Fast Terminal File Manager

[Yazi](https://github.com/sxyazi/yazi) project describes itself as a blasingly fast terminal file manager.

I will test this tool out on some of my larger projects, such as [Practicalli Graphic Design](https://github.com/practicalli/graphic-design) which has a great many files, large and small.


## Debian Linux

Debian Linux is relatively easy to install, as the wizard asks a few simple questions (timezone, lanaguage & keyboard layout, username & password, etc.).

Once Debian Linux is installed, then discovering the world of available packages can take time, as there are thousands of packages available.

Debian provides `tasksel` command during the initial install and it can also be used post install to add significant functionality.

Experienced Debian Linux users should already know what packages they wish to install.  Using `apt` is very simple (even if you only vaguely remember the names of things, as package names will "tab-complete" and show all packages matching the package name or partial name).

### Boot disk

[Caligula](https://github.com/ifd3f/caligula) is my preferred tool for creating a USB bootable disk from the Debian install image.

I could use `cp ~/Downloads/debian-13.1.0-amd64-netinst.iso /dev/sda` command to copy the image to the USB drive, but Caligula gives excellent visual feedback.

!!! EXAMPLE "Burn Debian ISO with Caligula"
    ```shell-output
    caligula burn ~/Downloads/debian-13.1.0-amd64-netinst.iso
    Input file: /home/practicalli/Downloads/debian-13.1.0-amd64-netinst.iso
    Detected compression format: no compression
    > Is this okay? Yes
    > What is the file's hash?
    Input is empty
    ? What is the file's hash? <canceled>
    > Select target disk sda | USB DISK 2.0 - 4.1 GB (disk, removable: yes)
    Input: /home/practicalli/Downloads/debian-13.1.0-amd64-netinst.iso
      Size: 821.0 MB
      Compression: no compression

    Output: sda
      Model: USB DISK 2.0
      Size: 4.1 GB
      Block size: 512 B
      Type: disk
      Path: /dev/sda
      Removable: yes

    > Is this okay? Yes
    > We don't have permissions on /dev/sda. Escalate using sudo? Yes
    ```


### Install

Download the latest Trixie (current release) ISO image.  This is a net-install image which is very small as it downloads most of the packages from a Debian package mirror during the install.

Select timezone,

I used the ncurses install wizard as the install is quite simple and only a few pieces of information to provide.

In the tasksel menu at the end, I also selected "SSH Server" so I can copy files over sftp between computers.

### Regolith

On first boot (Gnome desktop) I opened Firefox and searched for Regolight Desktop.

Following the install guide

- add the Regolith packages signing key
- add the Regolith personal package archive (PPA)
- update apt packages list
- install regolith, X11 and Wayland (Sway)

Reboot the Operating System.

When the login prompt displays, select the Practicalli user account and use the cog in the bottom right corner to select Regolith/Wayland (or Regolith/X11).


### Create a post install script


```shell
# Source - https://stackoverflow.com/
# Posted by xejrx721, modified by community. See post 'Timeline' for change history
# Retrieved 2025-11-11, License - CC BY-SA 4.0

list=$(echo -e "abc.deb\njkl.deb\npqr.deb\nxyz.deb")
for i in $list; do apt-get install ./$i; done
```


In addition to using the -y flag for yes answers you will also want to set DEBIAN_FRONTEND=noninteractive to prevent debconf setting questions from popping up.

```shell
DEBIAN_FRONTEND=noninteractive apt-get install PACKAGE -y
```

If there are only a few packages to add, then a self-contained script

```shell
#!/bin/bash

pkgs=(libreoffice firefox virtualbox vlc)
sudo apt-get -y --ignore-missing install "${pkgs[@]}"
```

- `apt-get` will skip packages already installed
- `--ignore-missing` skips packages that are not available
- use `apt-get` for scripting as it is a low-level back-end interface, without the TextUI enhancements of `apt` that are not needed for scriptiing (assumption).


For a longer list of packages, create a `post-install-packages.list` file and add all the package names to that file, one on each line.

```list title="post-install-packages.list"
audacity
blender
inkscape
gimp
```

Install all the packages with one simple command

```shell
apt-get -y --ignore-missing install $(< debian-post-install-packages.list)
```

> NOTE: using a separate file keeps a record of packages installed (assuming they exist) and the file can easily be added too and the command run again to only install the new package names.


TODO: automatically remove package files from cache once they are installed


### Apt

Currently the apt binary supports the following commands:

- `list` similar to dpkg list and used with flags `--installed` or `--upgradable`.
- `search` search and sort results alphabetically (instead of apt-cache).
- `show` simplify results from `apt-cache show`, e.g. hides less important details (e.g. hashes).
- `update` color output enabled version of `apt-get update`, apt update also shows the number of upgradeable packages (if any).
- `install,remove` adds progress output during the `dpkg run`.
- `upgrade` the same as `apt-get upgrade --with-new-pkgs.*`
- `full-upgrade` more meaningful name for `dist-upgrade`.
- `edit-sources` edit `sources.list` using `$EDITOR`.
- `policy` like `apt-cache policy`



## Goodbye Hyprland

I have removed Hyprland from my work computers and reverted to the stable and low maintenance Debian Linux distribution (Debian Linux 13 - Trixie - at the time of writing this journal).

Whilst I appreciate all the great work that has gone into Hyprland (and Wayland), it still feels too bleeding edge for my taste and required many more maintenance tasks (hyprland breaking changes, Arch Linux rolling release, learning the intricacies & limitations of Btrfs).

Garuda Linux reduced the installation work for an Arch Linux & Hyprland (and many other packages) desktop environment, but there were some neiche choices that were not that easy to circumvent.

### Challenges in more detail

Arch Linux has packages for Hyprland and includes a basic Hyprland setup from the Arch Linux install wizard.

- Arch requires more maintenance (this is inevitable for a rolling release, especially with rapidly evolving software like hyprland)

Btrfs (Butter FS) file system is great for creating snapshots for rolling back when issues are experienced after package updates.  If you have lots of free space, then this is a very useful tool to manage issues with Arch Linux packages.

- Btrfs uses additional space to keep snapshots
- maintenance is required to remove older snap-shots
- requires a minimum of 10 Gb free space on the main storage to successfully restore from a snapshot (in practice I suggest at least 15-20GB is available)

Hyprland

- not a complete desktop environment
- limited window layout modes (master and the other one) - I3 allowed more control over positioning windows and defining splits
- sddm is very configurable, but only as the system level (no user level customisation, except to choose a theme - so if you dont like the login background you need to hack the system config for a theme or create your own theme and install it at the system level).

Fish shell

- syntax differences (declaring variables, running some commands)

---
Thank you.

[:globe_with_meridians: Practical.li Website](https://practical.li){target=_blank .md-button}

[:fontawesome-brands-github: Practical.li GitHub Org](https://github.com/practicalli){target=_blank .md-button}
[:fontawesome-brands-github: practicalli-johnny profile](https://github.com/practicalli-johnny){target=_blank .md-button}

[:fontawesome-brands-mastodon: @practicalli@clj.social](https://clj.social/@practicalli){target=_blank .md-button}
[:fontawesome-brands-twitter: @practical_li](https://twitter.com/practcial_li){target=_blank .md-button}
